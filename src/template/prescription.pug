doctype html
head
  meta(charset='UTF-8')
  meta(http-equiv='X-UA-Compatible' content='IE=edge')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')
  title Document
  style.
    @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap");
    * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    }
    body {
    font-family: "Inter", sans-serif;
    max-width: 1300px;
    margin: auto;
    }
    table {
    width: 100%;
    border-collapse: collapse;
    }
    table tr {
    width: 100%;
    }
    table tr td {
    border: 1px solid #000;
    padding: 5px 8px;
    text-align: center;
    font-weight: 600;
    font-size: 15px;
    line-height: 20px;
    }
    .title {
    font-weight: 600;
    font-size: 18px;
    line-height: 20px;
    text-decoration-line: underline;
    }
    .patient_details,
    .patient_suppliment,
    .footer {
    display: flex;
    justify-content: space-between;
    position: relative;
    align-items: center;
    }
    .personal_info img {
    width: 90px;
    height: 90px;
    border-radius: 50%;
    margin-bottom: 15px;
    }
    .personal_info h2 {
    font-size: 20px;
    line-height: 20px;
    }
    .personal_info p {
    font-size: 15px;
    font-weight: 500;
    line-height: 20px;
    margin-top: 5px;
    }
    .gray_text {
    color: #888e9d;
    }
    .personal_data {
    color: #000;
    }
    .patient_test {
    border: 1px solid #000;
    padding: 12px;
    }
    .patient_test_title,
    .eye-test-title {
    font-weight: 600;
    font-size: 18px;
    line-height: 20px;
    text-decoration-line: underline;
    }
    .logo img {
    width: 120px;
    height: 35px;
    }
    .logo p {
    font-weight: 600;
    font-size: 15px;
    line-height: 150%;
    margin-top: 5px;
    }
    .logo p a {
    text-decoration: none;
    color: #008541;
    }
    .signature img {
    width: 80px;
    height: 80px;
    }
    .signature {
    text-align: center;
    }
    .signature hr {
    border: 1px solid #000;
    margin: 5px 0;
    }
    .rx {
    border-left: 1px solid #000;
    padding-left: 22px;
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    }
    section {
    margin: 60px 50px 30px 50px;
    }
    .eye-test p {
    margin-bottom: 12px;
    margin-top: 20px;
    }
    .reffer {
    margin-bottom: 20px;
    }
    .rx-content div p,
    .diagnose-content p,
    .diagnose-desc,
    .reffer p,
    .followup p {
    font-weight: 600;
    font-size: 15px;
    line-height: 150%;
    letter-spacing: -0.5px;
    }
    .rx-content div p {
    letter-spacing: 0.02em;
    margin-bottom: 5px;
    }
    .rx-content div small {
    font-weight: 400;
    font-size: 15px;
    line-height: 150%;
    letter-spacing: 0.02em;
    margin-left: 30px;
    }
    .rx .title {
    margin-bottom: 10px;
    }
    .order-1,
    .order-2,
    .order-3 {
    margin-bottom: 35px;
    }
    .order-1 .title,
    .order-2 .title,
    .order-3 .title {
    margin-bottom: 5px;
    }
    .rx-content div {
    margin-bottom: 15px;
    }
    .footer {
    margin: 20px 50px;
    }
    .patient_info {
    margin-top: 50px;
    }
    .complints p {
    font-weight: 500;
    font-size: 15px;
    line-height: 20px;
    letter-spacing: -0.5px;
    }
    .signature .dr_name {
    font-weight: 600;
    font-size: 15px;
    line-height: 20px;
    }
    .signature .dr_title {
    font-weight: 400;
    font-size: 15px;
    line-height: 20px;
    }
    .signature .dr_date {
    font-weight: 600;
    font-size: 15px;
    line-height: 20px;
    }
    .personal_info,
    .patient_test,
    .diagnosis,
    .rx {
    width: 50%;
    }
section.patient_info
  .patient_details
    .personal_info
      img(src='https://img.freepik.com/free-photo/handsome-man-smiling-happy-face-portrait-close-up_53876-146189.jpg' alt='')
      h2 #{patient.name}
      p.gray_text
        | Age: 
        span.personal_data #{patient.age} Years
      p.gray_text
        | PID: 
        span.personal_data #{patient._id}
      p.gray_text
        | Appointment ID: 
        span.personal_data ##{appointment._id}
    .patient_test
      .complints
        p
          span.patient_test_title Chief Complaints:
          |  #{complaints}
      .eye-test
        p.eye-test-title Eye Test Score:
        table
          if testResult.visualAcuity.left
            tr
              td(rowspan='2') Distance VA
              td Left Eye
              td #{testResult.visualAcuity.left.os}
          if testResult.visualAcuity.right
            tr
              td Right Eye
              td #{testResult.visualAcuity.right.od}
          if testResult.nearVision.left
            tr
              td(rowspan='2') Near VA
              td Left Eye
              td #{testResult.nearVision.left.os}
          if testResult.nearVision.right
            tr
              td Right Eye
              td #{testResult.nearVision.right.od}

              

          tr
            td(rowspan='2') Vision
            td Left Eye
            td #{testResult.colorVision.left}
          tr
            td Right Eye
            td #{testResult.colorVision.right}


          tr
            td(rowspan='2') AMD
            td Left Eye
            td #{testResult.amdVision.left}
          tr
            td Right Eye
            td #{testResult.amdVision.right}


section
  .patient_suppliment
    .diagnosis
      .order-1
        p.title Diagnosis:
        .diagnose-content
          each dgs, index in diagnosis
            p #{index+1}. #{dgs}
      .order-2
        p.title Investigation Order:
        each investigation, index in investigations
          p.diagnose-desc #{index+1}. #{investigation}
      .order-3
        p.title Surgery Order:
        each srg, index in surgery
          p.diagnose-desc #{index+1}. #{srg}
    .rx
      p.title Rx.
      .rx-content
        each medicine, index in medicines
          div
            p.rx-title #{index+1}. #{medicine.name}
            small.rx-desc #{medicine.note}
section
  .reffer
    p.bold-text
      span.title Reffered to:
      |  #{referredTo}
  .followup
    p.bold-text
      span.title Next Followup Date: #{followUpDate}
footer
  .footer
    .logo
      img(src='https://beh-app.s3.eu-north-1.amazonaws.com/logo.png' alt='')
      p
        | Get eye care from 
        a(href='#') eyebuddy.app
    .signature
      img(src='https://static.cdn.wisestamp.com/wp-content/uploads/2020/08/Oprah-Winfrey-Signature-1.png' alt='')
      hr
      p.dr_name #{doctor.name}
      p.dr_title #{doctor.bmdcCode}
      p.dr_date Date: #{appointment.date}
